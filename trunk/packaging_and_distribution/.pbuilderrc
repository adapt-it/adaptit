# The distribution should be correct in your changelog file.
# Uncomment this line to use the one listed there:
#DIST=`dpkg-parsechangelog | awk '/^Distribution: / {print $2}'`

# Uncomment to default to the running distribution
#: ${DIST:=$(lsb_release --short --codename)}

if [ -z "${DIST}" ]; then
	echo "Please set DIST"
	exit 1
fi
: ${ARCH:=$(dpkg --print-architecture)}
NAME="$DIST-$ARCH"
DISTRIBUTION="$DIST"
DEBOOTSTRAPOPTS=("--arch" "$ARCH" "${DEBOOTSTRAPOPTS[@]}")
BASETGZ="`dirname $BASETGZ`/$NAME-base.tgz"
BUILDRESULT="/var/cache/pbuilder/$NAME/result/"
CCACHEDIR=/var/cache/pbuilder/$NAME/ccache
APTCACHE="/var/cache/pbuilder/$NAME/aptcache/"
#HOOKDIR=/home/wmartin/.pbuilder-hooks
#HOOKDIR="/var/cache/pbuilder/hook.d"

case "$DIST" in
    oneiric|natty|maverick|lucid|karmic|jaunty|intrepid|hardy|gutsy|feisty) # ubuntu specific
        case "$ARCH" in 
            lpia)
                #MIRRORSITE="http://ie.archive.ubuntu.com/ubuntu"
                MIRRORSITE="http://ports.ubuntu.com/"
                COMPONENTS="main restricted universe multiverse"
                ;;
            *)
                MIRRORSITE="http://mirrors.kernel.org/ubuntu/"
                #MIRRORSITE="http://mirror.anl.gov/pub/ubuntu/"
                COMPONENTS="main restricted universe multiverse"
                #MIRRORSITE="http://archive.ubuntu.com/ubuntu"
                #COMPONENTS="main restricted universe"
                ;;
        esac
        ;;
    sid|lenny|etch) # debian specific
        MIRRORSITE="http://mirrors.kernel.org/debian/"
        COMPONENTS="main contrib non-free"
        ;;
    *)
        echo "Unknown distribution: $DIST"
        exit 1
        ;;
esac
echo "pbuilderrc: $NAME"
